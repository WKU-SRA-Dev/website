{% assign route = page.url | regex_replace: '/index$|/index\.html$|\.html$|/$' %}
<!-- 
Through learning from the internet and watching tutorials, I found that this file is supposed to handle the site header and navigation.
-->

<header class="site-header">
  <nav class="navbar navbar-expand-md justify-content-start justify-content-md-between">
    <!-- Toggle button for collapsing navbar on small screens -->
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation">
      <i class="material-symbols">这个是菜单</i> <!-- Changed text to 'menu' for clarity -->
    </button>

    <!-- This is the Brand logo, based on the behavior, it seems that the a tag is a link -->
    <a class="navbar-brand" href="/">
       <!-- what is src, is that also a link? -->
      <img
        src='https://www.wku.edu.cn/sites/main.prod.dpmgr.wku.edu.cn/files/2023-05/wku_brand-2018_2.png'
        alt='Flutter logo'
        height="37"
        width="129"
        class="align-middle">
    </a>
  
    <!-- Navbar content -->
    <div
      id="navbarSupportedContent"
      class="collapse navbar-collapse flex-grow-0">
      <!-- Background for collapsing navbar -->
      <div
        class="site-header__sheet-bg"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation">
      </div>
      <div class="site-header__sheet">
        <ul class="navbar-nav">
          <div class="site-sidebar site-sidebar--header d-md-none">
            {% render sidenav-level-1.html, url: page.url, nav: sidenav, base_id: "header", active_nav: activeNav %}
          </div>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="platform-navbar-dropdown"
               href="{{ site.main-url }}/multi-platform"
               role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
                多平台 
            </a>
            <div class="dropdown-menu" aria-labelledby="platform-navbar-dropdown">
              <a class="dropdown-item" href="{{ site.main-url }}/multi-platform/mobile">移动端</a>
              <a class="dropdown-item" href="{{ site.main-url }}/multi-platform/web">Web</a>
              <a class="dropdown-item" href="{{ site.main-url }}/multi-platform/desktop">桌面端</a>
              <a class="dropdown-item" href="{{ site.main-url }}/multi-platform/embedded">Embedded</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="dev-navbar-dropdown"
               href="{{ site.main-url }}/"
               role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
               Development
            </a>
            <div class="dropdown-menu" aria-labelledby="dev-navbar-dropdown">
              <a class="dropdown-item" href="{{ site.main-url }}/learn">Learn</a>
              <a class="dropdown-item" href="https://pub.dev/flutter/favorites" target="_blank">Flutter Favorites</a>
              <a class="dropdown-item" href="https://pub.dev/" target="_blank">Packages</a>
              <a class="dropdown-item" href="{{ site.main-url }}/monetization">Monetization</a>
              <a class="dropdown-item" href="{{ site.main-url }}/games">Games</a>
              <a class="dropdown-item" href="{{ site.main-url }}/news">News</a>
            </div>
          </li>
          <!-- Ecosystem Dropdown -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="ecosystem-navbar-dropdown"
               href="{{ site.main-url }}/ecosystem"
               role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
               Ecosystem
            </a>
            <div class="dropdown-menu" aria-labelledby="ecosystem-navbar-dropdown">
              <a class="dropdown-item" href="{{ site.main-url }}/community">Community</a>
              <a class="dropdown-item" href="{{ site.main-url }}/events">Events</a>
              <a class="dropdown-item" href="{{ site.main-url }}/culture">Culture</a>
            </div>
          </li>
          <!-- Showcase Link -->
          <li class="nav-item">
            <a class="nav-link" href="{{ site.main-url }}/showcase">Showcase</a>
          </li>
          <!-- Docs Dropdown with Active State Handling -->
          <li class="nav-item dropdown docs-item">
            <a class="nav-link dropdown-toggle{% if route == '/' %} active{% endif %}"
               id="docs-navbar-dropdown"
               href="/"
               role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
               Docs
            </a>
            <div class="dropdown-menu" aria-labelledby="docs-navbar-dropdown">
              <a class="dropdown-item {% if route == '/release/whats-new' %} active{% endif %}"
                 href="/release/whats-new">What's New</a>
              <a class="dropdown-item {% if route contains '/get-started/editor' %} active{% endif %}"
                 href="/get-started/editor">Editor Support</a>
              <a class="dropdown-item {% if route contains '/tools/hot-reload' %} active{% endif %}"
                 href="/tools/hot-reload">Hot Reload</a>
              <a class="dropdown-item {% if route contains '/perf/ui-performance' %} active{% endif %}"
                 href="/perf/ui-performance">Profiling</a>
              <a class="dropdown-item {% if route contains '/get-started/install' %} active{% endif %}"
                 href="/get-started/install">Install Flutter</a>
              <a class="dropdown-item {% if route contains '/tools/devtools' %} active{% endif %}"
                 href="/tools/devtools">DevTools</a>
              <a class="dropdown-item {% if route contains '/cookbook' %} active{% endif %}"
                 href="/cookbook">Cookbook</a>
              <a class="dropdown-item {% if route contains '/codelabs' %} active{% endif %}"
                 href="/codelabs">Codelabs</a>
            </div>
          </li>
        </ul>
        <!-- Search Form -->
        <form action="/search/" class="site-header__search form-inline">
          <input
            class="site-header__searchfield form-control search-field"
            type="search" name="q" id="q" autocomplete="off"
            placeholder="Search" aria-label="Search">
        </form>
      </div>
    </div>
    <!-- Social Media Links -->
    <div class="site-header__social navbar-nav flex-row">
      <a
        class="nav-item nav-link nav-icon"
        href="{{ site.social.twitter }}"
        aria-label="Open Flutter's Twitter in a new tab"
        target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/x.svg#x"></use></svg>
      </a>
      <a
        class="nav-item nav-link nav-icon"
        href="{{ site.social.youtube }}"
        aria-label="Open Flutter's YouTube in a new tab"
        target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/youtube.svg#youtube"></use></svg>
      </a>
      <a
        class="nav-item nav-link nav-icon"
        href="{{ site.flutter-medium }}"
        aria-label="Open Flutter's Medium blog in a new tab"
        target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/medium.svg#medium"></use></svg>
      </a>
      <a
        class="nav-item nav-link nav-icon"
        href="{{ site.repo.organization }}"
        aria-label="Open Flutter's GitHub in a new tab"
        target="_blank" rel="noreferrer">
        <svg><use href="/assets/images/social/github.svg#github"></use></svg>
      </a>
    </div>
    <!-- Call-to-Action Button -->
    <a
      class="site-header__cta btn btn-primary"
      href="https://wku.edu.cn">温肯官网
    </a>
    <p>哈哈，我指向了 温肯官网，看来href是 跳转地址啊，学到了</p>
  </nav>
</header>

